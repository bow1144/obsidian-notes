所有哈希函数都无法避免冲突，冲突处理就是给关键字找到下一个空的哈希地址

### 开放寻址法

- 所谓**开放**，就是空地址即向它的同义词开发，也向非同义词开放
- $H_i = (Hash(key)+d_i)\%m$
- 其中 $d_i$ 是增量序列，决定增量序列后，处理方法就是确定的
- 通常有四种处理方法：
	- **线性探测法**：$d_i = 1,2,3...,m-1$
		- 简单的一个个向下存
		- 会造成大量相邻元素**聚集**，降低查找效率
	- **平方探测法**：$d_i = 1^2,-1^2,2^2,-2^2...k^2,-k^2$，其中 $k \leq m/2$，$m=4k+3,k\in N$
		- 可以避免堆积
		- 缺点是不能检测所有单元，但至少一半
	- **双散列法**：$d_i = i \times Hash_2(key)$
		- 第一个哈希中途后，用另一个哈希函数计算地址增量
	- **伪随机序列法**：$d_i$ 是伪随机序列
- 开放寻址法中，不能随便**物理删除**，因为这样会阶段同义词的查找路线，所以需要打上一个删除标记；副作用是执行多次删除后，哈希表会被塞满

### 拉链法

- 所有同义词存在链表中
- 冲突后，直接存在同义词链表的尾部
- 查找时，在链表中顺序查找

-------------
![[{CB84F637-984C-481C-B2B7-B84F97D2D7ED}.png]]
堆积出现在线性探测法中。大量相邻元素堆积
C

![[{5C512551-3ACE-4212-9204-36917523BB8A}.png]]
I，正确
II，不一定
III，是的
IV，错误，不会聚集
A


![[{0D17AF10-D2E1-40EE-936E-F74DCF664A15}.png]]
探测次数：1，2，3……k
D


![[{9E8E7D75-806B-42D0-951D-BEE1583D5B6E}.png]]
只有一种冲突解决方法会产生聚集
D

![[{AFC83E96-EB26-4A17-BE36-D99EBFAA855D}.png]]
C

![[{E02891D6-B2C4-41FE-B88C-D83BDF6CDD37}.png]]
key mod 13 == 1
14 1 27 79
D 

![[{6B4E8B4F-8C79-4874-8916-3FCFA7F12ECA}.png]]
AB 

![[{EFE83E87-5CC2-4E8A-8E57-A432290E01F0}.png]]17个链表
AC

![[{1BC1439A-04A1-4B8A-B30F-37545366110E}.png]]
5，6，7冲突，放在8
A

![[{E482DE21-4319-4545-8CD1-260D596002D5}.png]]
9 8 4 5 10 1 11
59 % 17 = 8
查找：8 9 10 141
C

![[{94C245DA-2847-4B9D-B790-9F053645FF39}.png]]
6 5 7 9 10
插入23：6 7 5 10 2
B

![[{2D59B95D-A595-4525-B250-901C3E89F898}.png]]1 2 3
查找22：1
查找43：2
查找15：3
ASL：2
C

![[{098AF669-EEB4-4BD3-8843-6E0846CB6ED3}.png]]

|      | 87  | 40  | 30  | 6   | 11  | 22  | 98  | 20  |
| ---- | --- | --- | --- | --- | --- | --- | --- | --- |
| 哈希值  | 3   | 5   | 2   | 6   | 4   | 1   | 0   | 6   |
| 存储地址 | 3   | 5   | 2   | 6   | 4   | 1   | 0   | 7   |
| 查找次数 | 1   | 1   | 1   | 1   | 1   | 1   | 1   | 2   |

|      | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |
| ---- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 存储内容 | 98  | 22  | 30  | 87  | 11  | 40  | 6   | 20  | X   | X   | X   |
| 失败长度 | 9   | 8   | 7   | 6   | 5   | 4   | 3   | 2   | 1   | 1   | 1   |
*查找失败对应的地址：7个，只用考虑 0~6
*ASL= 9+8+...+4+3 / 7 = 6*

![[{C19A6A18-9EB1-4792-9B76-85F6116CFEBC}.png]]

|     | 2022 | 12  | 25  |
| --- | ---- | --- | --- |
| 哈希值 | 1    | 2   | 4   |
|     |      |     |     |

|     | 0   | 1    | 2   | 3   | 4      |
| --- | --- | ---- | --- | --- | ------ |
|     | X   | 2022 | 12  | X   | 25（删除） |
|     | 1   | 3    | 2   | 1   | 2      |
C