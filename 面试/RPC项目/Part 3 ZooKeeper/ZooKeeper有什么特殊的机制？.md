- **心跳**：设置 2000ms 的心跳时间，保证各个节点的健康状态，有两个关键方面：从节点向主节点告知存活；客户端向服务器告知存活
- **Zab**：广播模式用于处理正常需求，恢复模式在Leader失效时选举新的Leader
- **服务注册和发现**：
	- **服务注册**：创建ZNode节点，将服务的元信息注册到到ZK
	- **服务发现**：客户吨查询ZK列表，获取服务信息
	- **动态感知**：ZK的watcher机制通知服务器的上下线
- **watcher机制**：节点设置watcher机制，一旦节点发生变化，ZK通知客户端
- **数据持久化机制**：
	- **事务日志**：将写操作追加到事务日志中
	- **快照**：ZK启动时从最近的快照中恢复，重放事务日志